<!doctype html>
<html lang="az">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Neon Lily — Tap to Bloom</title>
<style>
  :root{
    --bg1:#050608;
    --bg2:#0b0f14;
    --lily1:#b47aff;   /* liliyanın açıq tonu */
    --lily2:#5e2bff;   /* liliyanın tünd tonu */
    --leaf:#28b36a;    /* yarpaq/ot */
    --dot:#ffd27a;     /* kiçik işıqlar */
    --glow: #8b5cff;   /* ümumi parıltı tonu */
  }
  html,body{
    height:100%; margin:0;
    background: radial-gradient(60% 60% at 50% 40%, #0d1320 0%, var(--bg2) 65%, var(--bg1) 100%);
    display:flex; align-items:center; justify-content:center;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
    color:#eaeaff;
  }
  .stage{
    width:min(750px, 92vw);
    aspect-ratio: 3/4;
    position:relative;
    user-select:none; -webkit-tap-highlight-color:transparent;
  }
  svg{ width:100%; height:100%; display:block; cursor:pointer; }

  /* Glow filter helper (applied via CSS) */
  .glow { filter:
    drop-shadow(0 0 10px var(--glow))
    drop-shadow(0 0 20px rgba(139,92,255,.55))
    drop-shadow(0 0 34px rgba(139,92,255,.35));
  }

  /* çizim effekti üçün stroke hazırlığı */
  .draw{
    stroke-dasharray: 1400;
    stroke-dashoffset: 1400;
    opacity:.0;
  }

  /* başlanğıc vəziyyəti */
  .petal, .center, .small-flower, .grass, .leaf { transform-origin: center; }
  .center, .small-flower, .leaf, .grass { opacity:0; }

  /* aktiv olanda (tap/click) oynayan animasiyalar */
  .active .draw{ animation: draw 1.2s ease forwards; }
  .active .petal{ animation: bloom .9s cubic-bezier(.2,.9,.25,1) .35s both; }
  .active .center{ animation: centerBloom .7s ease-out .6s both, pulse 2.2s ease-in-out 1.1s infinite; }
  .active .leaf{ animation: fadeIn .6s ease .55s both, sway 3.5s ease-in-out 1s infinite; }
  .active .grass{ animation: fadeIn .7s ease .45s both, sway 4.5s ease-in-out 1.2s infinite; }
  .active .small-flower{ animation: fadeIn .7s ease .65s both, sway 4.2s ease-in-out 1.4s infinite; }
  .active .firefly{ animation: blink 2.6s ease-in-out .9s infinite; }

  /* gecikmələr */
  .d1{ animation-delay: .05s; } .d2{ animation-delay:.12s; }
  .d3{ animation-delay: .18s; } .d4{ animation-delay:.24s; }
  .d5{ animation-delay: .30s; } .d6{ animation-delay:.36s; }

  /* keyframes */
  @keyframes draw{
    0%{ stroke-dashoffset:1400; opacity:.0; filter: drop-shadow(0 0 2px rgba(139,92,255,.15)); }
    55%{ opacity:1; }
    100%{ stroke-dashoffset:0; opacity:1; }
  }
  @keyframes bloom{
    0%{ transform: scale(.2); opacity:.0; filter: blur(1px); }
    70%{ transform: scale(1.08); opacity:1; filter: blur(0); }
    100%{ transform: scale(1); opacity:1; }
  }
  @keyframes centerBloom{
    0%{ transform: scale(0); opacity:0; }
    60%{ transform: scale(1.12); opacity:1; }
    100%{ transform: scale(1); opacity:1; }
  }
  @keyframes fadeIn{
    from{ opacity:0; transform:translateY(6px) scale(.98); }
    to  { opacity:1; transform:translateY(0)  scale(1); }
  }
  @keyframes pulse{
    0%{ transform: scale(1);   filter: drop-shadow(0 0 22px rgba(139,92,255,.55)); }
    50%{ transform: scale(1.04);filter: drop-shadow(0 0 40px rgba(139,92,255,.9)); }
    100%{ transform: scale(1);  }
  }
  @keyframes sway{
    0%,100%{ transform: rotate(0deg); }
    50%{ transform: rotate(-2.8deg); }
  }
  @keyframes blink{
    0%,100%{ opacity:.15; }
    10%{ opacity:1; }
    50%{ opacity:.35; }
    80%{ opacity:.9; transform: translateY(-2px); }
  }

  .hint{
    position:absolute; inset:auto 0 10px 0; text-align:center;
    font-size:13px; color:#bdb7ff; opacity:.75; pointer-events:none;
  }
</style>
</head>
<body>
  <div class="stage pressable" id="stage" role="button" aria-label="Tap to bloom neon lily">
    <!-- SVG sahəsi -->
    <svg viewBox="0 0 900 1200" id="scene">
      <!-- yumşaq arxa parıltı -->
      <defs>
        <radialGradient id="lGrad" cx="50%" cy="45%" r="55%">
          <stop offset="0%"  stop-color="rgba(255,255,255,.25)"/>
          <stop offset="60%" stop-color="rgba(255,255,255,.06)"/>
          <stop offset="100%" stop-color="rgba(255,255,255,0)"/>
        </radialGradient>
        <linearGradient id="petalFill" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0%"  stop-color="var(--lily1)"/>
          <stop offset="100%" stop-color="var(--lily2)"/>
        </linearGradient>
        <linearGradient id="leafFill" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0%"  stop-color="#32d98b"/>
          <stop offset="100%" stop-color="var(--leaf)"/>
        </linearGradient>
      </defs>

      <circle cx="450" cy="660" r="220" fill="url(#lGrad)" opacity=".12"/>

      <!-- Otlar -->
      <g class="grass glow" stroke="var(--leaf)" stroke-width="6" fill="none" stroke-linecap="round" opacity="0">
        <path d="M160,950 C140,860 180,780 210,710" class="draw d1"/>
        <path d="M210,1000 C200,900 245,820 270,760" class="draw d2"/>
        <path d="M700,1000 C705,900 665,820 640,760" class="draw d3"/>
        <path d="M760,980 C760,900 740,840 720,790" class="draw d4"/>
      </g>

      <!-- Kolda yarpaqlar (solda) -->
      <g class="leaf glow" opacity="0">
        <g fill="url(#leafFill)">
          <ellipse cx="320" cy="880" rx="28" ry="46" transform="rotate(-30 320 880)"/>
          <ellipse cx="350" cy="930" rx="28" ry="48" transform="rotate(-26 350 930)"/>
          <ellipse cx="380" cy="980" rx="30" ry="52" transform="rotate(-18 380 980)"/>
          <ellipse cx="420" cy="1025" rx="30" ry="56" transform="rotate(-8 420 1025)"/>
        </g>
      </g>

      <!-- Liliya gövdəsi -->
      <g class="draw glow d2" stroke="url(#leafFill)" stroke-width="6" fill="none" stroke-linecap="round">
        <path d="M450,1080 C448,980 452,900 450,790" />
        <!-- sağa yarpaq sapları -->
        <path d="M450,930 C520,900 560,860 600,820" />
        <path d="M450,880 C520,860 560,820 600,780" />
        <!-- sola yarpaq sapları -->
        <path d="M450,930 C380,900 340,860 300,820" />
      </g>

      <!-- Liliyanın yarpaqları -->
      <g class="leaf glow" fill="url(#leafFill)" opacity="0">
        <ellipse cx="600" cy="820" rx="26" ry="54" transform="rotate(26 600 820)"/>
        <ellipse cx="300" cy="820" rx="26" ry="54" transform="rotate(-26 300 820)"/>
      </g>

      <!-- Mərkəzi Liliya (petallar + mərkəz) -->
      <g transform="translate(450,700)">
        <!-- alt petal -->
        <path class="petal glow" d="M 0 0
             C -90 40 -110 120 0 160
             C 110 120 90 40 0 0 Z"
             fill="url(#petalFill)" opacity="0"/>
        <!-- sol petal -->
        <path class="petal glow" d="M 0 0
             C -120 -10 -160 60 -110 120
             C -40 120 -10 60 0 0 Z"
             fill="url(#petalFill)" opacity="0"/>
        <!-- sağ petal -->
        <path class="petal glow" d="M 0 0
             C 120 -10 160 60 110 120
             C 40 120 10 60 0 0 Z"
             fill="url(#petalFill)" opacity="0"/>
        <!-- üst sol petal -->
        <path class="petal glow" d="M 0 -10
             C -70 -110 -40 -160 0 -150
             C 40 -160 70 -110 0 -10 Z"
             fill="url(#petalFill)" opacity="0" transform="rotate(-18)"/>
        <!-- üst sağ petal -->
        <path class="petal glow" d="M 0 -10
             C -70 -110 -40 -160 0 -150
             C 40 -160 70 -110 0 -10 Z"
             fill="url(#petalFill)" opacity="0" transform="rotate(18)"/>
        <!-- mərkəz + erkəkliklər -->
        <g class="center glow" opacity="0">
          <ellipse cx="0" cy="0" rx="26" ry="20" fill="var(--lily2)"/>
          <g fill="#1b0a30">
            <rect x="-6" y="-40" width="4" height="46" rx="2"/>
            <rect x="2"  y="-36" width="4" height="44" rx="2"/>
            <rect x="10" y="-38" width="4" height="48" rx="2"/>
          </g>
          <g fill="#2a174b">
            <circle cx="-4" cy="-40" r="8"/>
            <circle cx="4"  cy="-36" r="8"/>
            <circle cx="12" cy="-38" r="8"/>
          </g>
        </g>
      </g>

      <!-- Sağda iki kiçik çiçək -->
      <g class="small-flower glow" opacity="0">
        <g transform="translate(610,840) scale(1)">
          <circle cx="0" cy="0" r="10" fill="var(--lily2)"/>
          <g fill="url(#petalFill)">
            <ellipse cx="0" cy="-22" rx="24" ry="12"/>
            <ellipse cx="20" cy="-4" rx="24" ry="12" transform="rotate(60)"/>
            <ellipse cx="-20" cy="-4" rx="24" ry="12" transform="rotate(-60)"/>
          </g>
        </g>
        <g transform="translate(660,900) scale(.85)">
          <circle cx="0" cy="0" r="10" fill="var(--lily2)"/>
          <g fill="url(#petalFill)">
            <ellipse cx="0" cy="-22" rx="24" ry="12"/>
            <ellipse cx="20" cy="-4" rx="24" ry="12" transform="rotate(60)"/>
            <ellipse cx="-20" cy="-4" rx="24" ry="12" transform="rotate(-60)"/>
          </g>
        </g>
      </g>

      <!-- Fireflies -->
      <g class="firefly">
        <circle cx="570" cy="600" r="4" fill="var(--dot)" opacity=".6"/>
        <circle cx="620" cy="640" r="3" fill="var(--dot)" opacity=".6"/>
        <circle cx="260" cy="620" r="3" fill="var(--dot)" opacity=".6"/>
      </g>
    </svg>

    <div class="hint">Sıx / tap et — liliya neon kimi “əmələ gəlsin” ✨</div>
  </div>

<script>
  // Tap/kliklə animasiyanı başlat və istəsən yenidən oynat
  const stage = document.getElementById('stage');
  stage.addEventListener('click', replay);
  stage.addEventListener('touchstart', replay, {passive:true});

  function replay(){
    if(stage.classList.contains('active')){
      stage.classList.remove('active'); // reflow üçün
      void stage.offsetWidth; void stage.offsetHeight;
    }
    stage.classList.add('active');
  }

  // Klaviatura ilə də:
  stage.tabIndex = 0;
  stage.addEventListener('keydown', (e)=>{
    if(e.key===' ' || e.key==='Enter'){ e.preventDefault(); replay(); }
  });
</script>
</body>
</html>
